// This file is purely for documentation purposes.
// It shows examples of what each object looks like in the database.
// It is not complete and should be updated as we encounter more data that
// we need.

UMBRELLA ("/accounts/")

	// key = UID of this umbrella account in firebase
	RheaQY1WxJT03sTPQICFZ4STpfm1 : {  
		accountType: "umbrella",
		umbrellaInfo: {
			type: "school",  // Enums.UmbrellaType
			ceebCode: "4854",  // different field depending on umbrella type
		}
		name: "University of Washington",
		address: {
			street1: "1410 Northeast Campus Parkway",
			street2: "",
			city: "Seattle",
			state: "WA",
			zipcode: 98105
		},
		primaryContact: {
			name: "Irini Spyridakis",
			email: "irinis@u.washington.edu",
			phone: "123-456-7890"
		},
		donatingAgencies: [  
			"-K9HdKlCLjjk_ka82K0s",  // autogen-key of donating-agency
			...
		],

		receivingAgencies: [
			"uGOFJ8NqHjbZhKAYzSZFRs1dSKD3",  // uid-key of receiving-agency
			...
		],
		delivererGroups: [
			"R8BAHrxdkfQoAmfWvGa1OJmjQP43",  // uid-key of deliverer-group
			...
		],
		notifications: [
			{
				type: "new_account",  // Enums.NotificationType
				content: null  // TBD
			}, 
			...
		]
	}

-----------------------------------------------------

DONATING AGENCY ("/donating_agencies/") //not an account

	// key = auto generated key by firebase
	-K9HdKlCLjjk_ka82K0s: {
		umbrella: "RheaQY1WxJT03sTPQICFZ4STpfm1",  // uid-key of an umbrella
		name: "Local Point",
		address: {
			street1: "1201 NE Campus Pkwy",
			street2: "",
			city: "Seattle",
			state: "WA",
			zipcode: 98105,
			officeNo: "220"
		},
		isVerified: true,
		isActivated: true,
		primaryContact: "dhA03LwTp3cibXVUcb3nQqO34wj1",  // uid-key of a donating-agency-member
		members: [
			"dhA03LwTp3cibXVUcb3nQqO34wj1",  // uid-key of donating-agency-member
			"fbCm3Yrbi4e12WgpVz3gq25VKea2",
		],
		notifications: [
			{
				type: "recurring_pickup_confirmed",  // Enums.NotificationType
				content: "-L5QoXeC_UrL5tRRED3e"  // key of DeliveryRequest
			},
			...
		]
	}

-----------------------------------------------------

DONATING AGENCY MEMBER ("/accounts/")

	// key = UID of the member's account in firebase
	dhA03LwTp3cibXVUcb3nQqO34wj1: {
		accountType: "donating_agency_member",
		agency: "-K9HdKlCLjjk_ka82K0s",  // autogen-key of a donating-agency
		name: "Andrea Benson",
		email: "bensoa3@uw.edu",
		phone: "206-543-6975",
		position: "Manager"
		isAdmin: true,
		isVerified: true,  // same as parent agency's
		isActivated: true  // same as parent agency's
	}


-----------------------------------------------------

RECEIVING AGENCY ("/accounts/")

	// key = UID of the receiving agency's account
	uGOFJ8NqHjbZhKAYzSZFRs1dSKD3: {
		accountType: "receiving_agency",
		umbrella: "RheaQY1WxJT03sTPQICFZ4STpfm1",  // uid-key of an umbrella
		name: "Seattle Union Gospel Mission",
		email: "seauniongospel@test.org",
		address: {
			street1: "124 Sesame St.",
			street2: "",
			city: "Seattle",
			state: "WA",
			zipcode: 98115,
			officeNo: "110A"
		},
		isVerified: true,
		isActivated: true,
		primaryContact: {
			name: "Chris Stack",
			email: "chrisstack@uniongospel.org",
			phone: "206-586-9876",
			position: "Manager"
		},
		secondaryContact: {  // could be null
			name: "Dave Stack",
			email: "davestack@uniongospel.org",
			phone: "206-586-9876",
			position: "Volunteer"
		},
		availabilities: {
			0: {startTime: "10:00", endTime: "14:00"},  // Sunday
			2: {startTime: "13:00", endTime: "17:00"},  // Tuesday
			3: {startTime: "13:00", endTime: "17:00"},  // Wednesday
			4: {startTime: "13:00", endTime: "17:00"},  // Thursday
			6: {startTime: "10:00", endTime: "14:00"},  // Saturday
		},
		acceptEmergencyPickups: true,
		emergencyQuantity: {  // could be null
			min: 10,  // in lbs
			max: 100  // in lbs
		},
		deliveryNotes: "Park in the lot near the south entrance.",  // add in Settings
		notifications: [
			{
				type: "recurring_pickup_request",  // Enums.NotificationType
				content: "-L5QoXeC_UrL5tRRED3e"  // key of DeliveryRequest
			},
			...
		]
	}


-----------------------------------------------------

DELIVERER GROUP ("/accounts/")

	// key = UID of the deliverer group's account
	R8BAHrxdkfQoAmfWvGa1OJmjQP43: {
		accountType: "deliverer_group"
		umbrella: "RheaQY1WxJT03sTPQICFZ4STpfm1",  // uid-key of an umbrella
		name: "Phi Sigma Ro",
		email: "phisigmaro@uw.edu",
		address: {
			street1: "124 Sesame St.",
			street2: "",
			city: "Seattle",
			state: "WA",
			zipcode: 98115
		},
		isVerified: true,
		isActivated: true,
		numVolunteers: 50,
		coordinator: {
			name: "Andy Duncan",
			email: "andyd@uw.edu",
			phone: "206-487-2859",
			position: "President"
		},
		notifications: [
			{
				type: "recurring_pickup_request",  // Enums.NotificationType
				content: "-L5QoXeC_UrL5tRRED3e"  // key of DeliveryRequest
			},
			...
		]
	}


-----------------------------------------------------

DELIVERY REQUEST ("/delivery_requests/RheaQY1WxJT03sTPQICFZ4STpfm1")   //"/delivery_requests/<umbrella_id>"

	// key = auto generated key by firebase
	-L5QoXeC_UrL5tRRED3e: {
		status: 'pending',  // Enums.RequestStatus
		startTimestamp: 1519826400,  // start date + start hour
		endTimestamp: 1527688800,    // end date + end hour
		endCriteria: {
			type: "date",  // Enums.RequestEndCriteriaType
			value: "2018-02-09"  // a date for "date" or a number for "num_occurrences"
		},
		repeats: "weekly",	// values in Enums.RequestRepeatType
		primaryContact: "dhA03LwTp3cibXVUcb3nQqO34wj1",  // uid-key of a donating-agency-member
		notes: "Enter through the back door.",
		umbrella: "RheaQY1WxJT03sTPQICFZ4STpfm1",  // uid-key of a umbrella
		donatingAgency: "-K9HdKlCLjjk_ka82K0s",  // autogen-key of a donating-agency
		requester: "Andrea Benson",  // name of a donating-agency-member
		// receivingAgency & delivererGroups:
		// The donating agency can choose to request specific receiving agency
		// and/or deliverer group, or not.
		// a. If specified, 'requested' field will be the uid-key of that RA
		// b. It not specified, all RA/DG uids in this umbrella will be added to 'pending'
		receivingAgency: {
			// Depending on the status of the request, this
			// map will have 1 out of the 3 possible fields:
			// "requested", "pending" (list), "claimed"
			requested: "uGOFJ8NqHjbZhKAYzSZFRs1dSKD3"  // uid-key of a RA
			// OR
			pending: [  
				"uGOFJ8NqHjbZhKAYzSZFRs1dSKD3",  // uid-key of all RAs
				...
			]
			// OR
			claimed: "uGOFJ8NqHjbZhKAYzSZFRs1dSKD3"  // uid-key of a RA (once a RA claims)
		},
		delivererGroup: {
			// same as receivingAgency above:
			requested: "R8BAHrxdkfQoAmfWvGa1OJmjQP43"  // uid-key of a DG
			// OR
			pending: [
				"R8BAHrxdkfQoAmfWvGa1OJmjQP43",  // uid-key of all DGs
				...
			]
			// OR
			claimed: "R8BAHrxdkfQoAmfWvGa1OJmjQP43"  // uid-key of a DG (once a DG claims)
		},
		requestTimeStamp: 1518753363763,
		spawnedDeliveries: [
			// individual deliveries that were created to fulfill this delivery request
			"-L5RkIS0CSPuXpkewaqA",
			...
		]
	}


-----------------------------------------------------

DELIVERY ("/deliveries/RheaQY1WxJT03sTPQICFZ4STpfm1/")  // "/deliveries/<umbrella_uid>"

	// key = auto generated key by firebase
	-L5RkIS0CSPuXpkewaqA: {
		status: "in_progress",  // Enums.DeliveryStatus
		startTimestamp: 1521295200,
		endTimestamp: 1521302400,
		isEmergency: false,
		spawningDeliveryRequest: "-L5QoXeC_UrL5tRRED3e",
		donatingAgency: {
			agency: "-K9HdKlCLjjk_ka82K0s",  // autogen-key of a donating-agency
			primaryContact: "dhA03LwTp3cibXVUcb3nQqO34wj1",  // uid-key of a donating-agency-member
		},
		receivingAgency: {
			agency: "uGOFJ8NqHjbZhKAYzSZFRs1dSKD3",  // uid-key of receiving-agency
			primaryContact: {
				name: "Bob",
				email: "bob@uniongospel.org",
				phone: "098-765-4321"
			}
		},
		// delivererGroup is null if isEmergency=true
		delivererGroup: "R8BAHrxdkfQoAmfWvGa1OJmjQP43",  // uid-key of deliverer-group
		deliverers: [
			{
				name: "Alice",
				email: "alice@uw.edu",
				phone: "123-789-4560"
			},
			{
				name: "Chris",
				email: "chris@uw.edu",
				phone: "456-123-0789"
			}
		],
		description: {
			foodItems: [
				{
					food: "Baked beans",
					quantity: 15,
					unit: "lb"  // Enums.FoodUnit
				},
				{
					food: "Bread",
					quantity: 4,
					unit: "loaves"  // Enums.FoodUnit
				},
				...
			],
			updatedBy: {
				// key: timestamp
				// value: name of a donating-agency-member
				1523173058189: "Andrea Benson",
				1523173817016: "Chris Doe",
				...
			}
		},
		notes: "Enter through the back door.",
		pickedUpInfo: {
			temperature: 29,  // in F
			signature: "John Smith",
			timestamp: 1523174874685
		},
		deliveredInfo: {
			signature: "Ellen Blake",
			timestamp: 1523174892769
		}
	}


